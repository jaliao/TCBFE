function setCookie(e,n,o){var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3);var i="expires="+a.toGMTString();document.cookie=e+"="+n+"; "+i}function getCookie(e){for(var n=e+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){var i=o[a].trim();if(0==i.indexOf(n))return i.substring(n.length,i.length)}return""}function checkCookie(){var e=getCookie("username");""!=e||(cookieAlert(),setCookie("username",e="noname",30))}function cookieAlert(){const e=$(".bv-cookie-alert"),n=$("body"),o=e.find(".btn");e.addClass("active"),n.addClass("body-lock"),o.on("click",(function(){e.removeClass("active").fadeOut(),n.removeClass("body-lock")}))}function getDevice(){var e={options:[],header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],init:function(){var e=this.header.join(" ");return{os:this.matchItem(e,this.dataos),browser:this.matchItem(e,this.databrowser)}},matchItem:function(e,n){var o,a,i,t=0,r=0;for(t=0;t<n.length;t+=1)if(new RegExp(n[t].value,"i").test(e)){if(o=new RegExp(n[t].version+"[- /:;]([\\d._]+)","i"),i="",(a=e.match(o))&&a[1]&&(a=a[1]),a)for(a=a.split(/[._]+/),r=0;r<a.length;r+=1)i+=0===r?a[r]+".":a[r];else i="0";return{name:n[t].name,version:parseFloat(i)}}return{name:"unknown",version:0}}}.init();e.os.name,e.os.version,e.browser.name,e.browser.version,navigator.userAgent,navigator.appVersion,navigator.platform,navigator.vendor;e.os.name,e.os.version,e.browser.name,e.os.version,navigator.userAgent;return{os:e.os.name,browser:e.browser.name,userAgent:navigator.userAgent,language:navigator.language}}function initPlugins(){lazyload(),$("[data-fancybox]").fancybox({protect:!0})}function checkLocale(){return 1==document.body.classList.contains("zh-CN")?"zh-cn":"en"}function dateFormalizing(e,n,o){var a=new Date(e);return a=moment(a).locale(o).format(n)}function initSlick(e){var n=e.attr("data-autoplay"),o=e.attr("data-autoplay-speed"),a=e.attr("data-dots"),i=e.attr("data-center-padding"),t=1==e.hasClass("bv-centered-carousel");n="true"==n,o=null!=o&&0!==o.length?parseInt(o):5e3,i=null!=i&&0!==i.length?i:"60px";var r={dots:a="true"==a,arrows:!0,autoplay:n,autoplaySpeed:o,draggable:!1,pauseOnHover:!1,centerMode:t,centerPadding:"60px",responsive:[{breakpoint:576,settings:{centerPadding:"30px",arrows:!1}}]};if(0!=e.find(".video").length){function s(e,n){var o,a;o=e.find(".slick-current.slide"),isVideo=!!o.hasClass("video"),isVideo?(e.slick("slickPause"),null!=(a=o.children("video").get(0))&&("play"===n?a.play():a.pause())):e.slick("slickPlay")}e.on("init",(function(e){e=$(e.currentTarget),setTimeout((function(){s(e,"play")}),1e3)})),e.on("beforeChange",(function(e,n){s(n=$(n.$slider),"pause")})),e.on("afterChange",(function(e,n){s(n=$(n.$slider),"play")}))}e.slick(r)}function navbarUI(){const e=$(".bv-navbar"),n=$(".navbar-collapse");let o=!1,a=e.height();const i=$("body"),t=$("html");let r;const s=$(".parallax-mirror");var l=function(n){n>a?e.addClass("navbar-lock-top"):e.removeClass("navbar-lock-top")};let c=$(window).scrollTop();l(c),$(window).scroll((function(){if(1==o)e.addClass("navbar-lock-top");else{var n=$(window).scrollTop();l(n)}})),n.on("show.bs.collapse",(function(){var e=$(this);bodyScrollLock.enableBodyScroll(e),r=$(window).scrollTop(),i.addClass("body-lock"),t.css({"overflow-y":" scroll"}),i.css({top:-r}),s.css({top:-r}),o=!0})).on("hide.bs.collapse",(function(){bodyScrollLock.clearAllBodyScrollLocks(),i.removeClass("body-lock"),i.css({top:"auto"}),t.css({"overflow-y":" auto"}),s.css({top:"0"}),$(window).scrollTop(r),o=!1}))}function initGallery(e){let n=e.find("img");if(e.slick({fade:!0,dots:!1,arrows:!1}),n.length>1){e.closest(".bv-article-gallery-container").append('<div class="bv-gallery-nav"/>');const o=e.closest(".bv-article-gallery-container").find(".bv-gallery-nav");n.clone().appendTo(o),o.find("img").wrap('<div><a class="img-wrap" href="javascript:;"></a></div>');let a=n.length>5;a&&o.addClass("centered"),o.on("init",(function(e,n){console.log("init")})),o.slick({slidesToShow:6,slidesToScroll:6,dots:!1,arrows:a,focusOnSelect:!1,infinite:!1,responsive:[{breakpoint:576,settings:{arrows:!1,slidesToScroll:6}}]});let i=o.find(".slick-prev"),t=o.find(".slick-next"),r=o.find(".slick-slide a");o.on("afterChange",(function(e,n,o){console.log(n,o),6==o?(i.css("opacity",1),t.css("opacity",.1)):0==o?(i.css("opacity",.1),t.css("opacity",1)):(i.css("opacity",1),t.css("opacity",1))})),i.on("click",(function(){})),t.on("click",(function(){})),r.on("click",(function(){let n=$(this).parent(".slick-slide").attr("data-slick-index");console.log(n),e.slick("slickGoTo",n)}))}}function animation(e){let n;n=$(window).width()>576;for(var o=new ScrollMagic.Controller,a=e.find(".bv-card"),i=0;i<a.length;i++)new ScrollMagic.Scene({triggerElement:a[i],offset:50,triggerHook:.9,reverse:!1}).setClassToggle(a[i],"visible").addTo(o)}function initApp(e){const n=$(".slick"),o=$(".bv-gallery"),a=$(".bv-cards-animation");$("video");navbarUI(),n.length>0&&initSlick(n),o.length>0&&initGallery(o),a.length>0&&animation(a)}document.onreadystatechange=function(){document.readyState;"interactive"==document.readyState&&setTimeout((function(){checkCookie();let e=getDevice();initPlugins(),initApp(e)}),500),document.readyState};