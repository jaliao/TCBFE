function setCookie(e,n,a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3);var r="expires="+o.toGMTString();document.cookie=e+"="+n+"; "+r}function getCookie(e){for(var n=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){var r=a[o].trim();if(0==r.indexOf(n))return r.substring(n.length,r.length)}return""}function checkCookie(){var e=getCookie("username");""!=e||(cookieAlert(),setCookie("username",e="noname",30))}function cookieAlert(){const e=$(".bv-cookie-alert"),n=$("body"),a=e.find(".btn");e.addClass("active"),n.addClass("body-lock"),a.on("click",(function(){e.removeClass("active").fadeOut(),n.removeClass("body-lock")}))}function getDevice(){var e={options:[],header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],init:function(){var e=this.header.join(" ");return{os:this.matchItem(e,this.dataos),browser:this.matchItem(e,this.databrowser)}},matchItem:function(e,n){var a,o,r,i=0,t=0;for(i=0;i<n.length;i+=1)if(new RegExp(n[i].value,"i").test(e)){if(a=new RegExp(n[i].version+"[- /:;]([\\d._]+)","i"),r="",(o=e.match(a))&&o[1]&&(o=o[1]),o)for(o=o.split(/[._]+/),t=0;t<o.length;t+=1)r+=0===t?o[t]+".":o[t];else r="0";return{name:n[i].name,version:parseFloat(r)}}return{name:"unknown",version:0}}}.init();e.os.name,e.os.version,e.browser.name,e.browser.version,navigator.userAgent,navigator.appVersion,navigator.platform,navigator.vendor;e.os.name,e.os.version,e.browser.name,e.os.version,navigator.userAgent;return{os:e.os.name,browser:e.browser.name,userAgent:navigator.userAgent,language:navigator.language}}function initPlugins(){lazyload(),$("[data-fancybox]").fancybox({protect:!0})}function checkLocale(){return 1==document.body.classList.contains("zh-CN")?"zh-cn":"en"}function dateFormalizing(e,n,a){var o=new Date(e);return o=moment(o).locale(a).format(n)}function initSlick(e){var n=e.attr("data-autoplay"),a=e.attr("data-autoplay-speed"),o=e.attr("data-dots"),r=e.attr("data-center-padding"),i=1==e.hasClass("bv-centered-carousel");n="true"==n,a=null!=a&&0!==a.length?parseInt(a):5e3,r=null!=r&&0!==r.length?r:"60px";var t={dots:o="true"==o,arrows:!0,autoplay:n,autoplaySpeed:a,draggable:!1,pauseOnHover:!1,centerMode:i,centerPadding:"60px",responsive:[{breakpoint:576,settings:{centerPadding:"30px",arrows:!1}}]};if(0!=e.find(".video").length){function l(e,n){var a,o;a=e.find(".slick-current.slide"),isVideo=!!a.hasClass("video"),isVideo?(e.slick("slickPause"),null!=(o=a.children("video").get(0))&&("play"===n?o.play():o.pause())):e.slick("slickPlay")}e.on("init",(function(e){e=$(e.currentTarget),setTimeout((function(){l(e,"play")}),1e3)})),e.on("beforeChange",(function(e,n){l(n=$(n.$slider),"pause")})),e.on("afterChange",(function(e,n){l(n=$(n.$slider),"play")}))}e.slick(t)}function navbarUI(){const e=$(".bv-navbar"),n=$(".navbar-collapse");let a=!1,o=e.height();const r=$("body"),i=$("html");let t;const l=$(".parallax-mirror");var s=function(n){n>o?e.addClass("navbar-lock-top"):e.removeClass("navbar-lock-top")};let c=$(window).scrollTop();s(c),$(window).scroll((function(){if(1==a)e.addClass("navbar-lock-top");else{var n=$(window).scrollTop();s(n)}})),n.on("show.bs.collapse",(function(){var e=$(this);bodyScrollLock.enableBodyScroll(e),t=$(window).scrollTop(),r.addClass("body-lock"),i.css({"overflow-y":" scroll"}),r.css({top:-t}),l.css({top:-t}),a=!0})).on("hide.bs.collapse",(function(){bodyScrollLock.clearAllBodyScrollLocks(),r.removeClass("body-lock"),r.css({top:"auto"}),i.css({"overflow-y":" auto"}),l.css({top:"0"}),$(window).scrollTop(t),a=!1}))}function initGallery(e){let n=e.find("img");if(e.slick({asNavFor:".bv-gallery-nav",fade:!0,dots:!1,arrows:!1}),n.length>1){e.closest(".bv-article-gallery-container").append('<div class="bv-gallery-nav"/>');const a=e.closest(".bv-article-gallery-container").find(".bv-gallery-nav");n.clone().appendTo(a),a.find("img").wrap('<div><a class="img-wrap" href="javascript:;"></a></div>');let o=n.length>5;o&&a.addClass("centered"),a.slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:o,asNavFor:".gallery-slick",focusOnSelect:!0,infinite:!1,responsive:[{breakpoint:576,settings:{arrows:!1}}]})}}function animation(e){let n;n=$(window).width()>576;for(var a=new ScrollMagic.Controller,o=e.find(".bv-card"),r=0;r<o.length;r++)new ScrollMagic.Scene({triggerElement:o[r],offset:50,triggerHook:.9,reverse:!1}).setClassToggle(o[r],"visible").addTo(a)}function initApp(e){const n=$(".slick"),a=$(".bv-gallery"),o=$(".bv-cards-animation");$("video");navbarUI(),n.length>0&&initSlick(n),a.length>0&&initGallery(a),o.length>0&&animation(o)}document.onreadystatechange=function(){document.readyState;"interactive"==document.readyState&&setTimeout((function(){checkCookie();let e=getDevice();initPlugins(),initApp(e)}),500),document.readyState};